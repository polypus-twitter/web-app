<!--
    Polypus: a Big Data Self-Deployable Architecture for Microblogging
    Text Extraction and Real-Time Sentiment Analysis

    Copyright (C) 2017 Rodrigo MartÃ­nez (brunneis) <dev@brunneis.com>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<div class="row">

	<div class="col s12 l8 offset-l2">
		<!--<div class="card-panel blue-grey darken-3">
				<blockquote class="white-text">
                        This view enables a quick access to aggregated data
                        relative to the keywords of the APL (Automated
                        Processing List).<br> Queries are much lighter than
                        those executed through the search section as partial
                        results are already processed.
				</blockquote>
		</div>-->

		<div class="card-panel blue-grey darken-3">
			<h2 class="white-text center-align">{{selected_term | uppercase }}</h2>
			<div class="row center-align">
				<a ng-click="select(term)" ng-repeat="term in lpa" style="margin: 10px" class="white-text waves-effect waves-blue btn-flat blue">{{term}}</a>
			</div>
		</div>

		<form ng-submit="submit()">

			<div class="card-panel blue-grey darken-3">
				<div class="row">
					<form class="col s12">
						<div class="row">

							<div class="input-field col s12 m6 l5">
								<input ng-model="form.start_timestamp" id="start_timestamp" type="text" class="validate">
								<label for="start_timestamp" for="first_name" class="active">Start date and time</label>
							</div>

							<div class="input-field col s12 m6 l5">
								<input ng-model="form.stop_timestamp" id="stop_timestamp" type="text" class="validate">
								<label for="stop_timestamp" class="active">Stop date and time</label>
							</div>

							<div class="input-field col s12 m12 l2">
								<input disabled ng-model="form.language" id="language" type="text" class="validate">
								<label for="language" class="active" >Language</label>
							</div>

						</div>

						<div class="row">
						<button style="margin-left: 10px" class="blue btn waves-effect waves-light" type="submit" name="action">Execute query
						<i class="material-icons right">send</i>
						</button>
						</div>

					</form>
				</div>
			</div>
		</form>

 		<div ng-show="processing" class="ng-hide">
			<div class="card-panel blue-grey darken-3">
				<p class="white-text center-align">Processing data</p>

				<div class="sk-folding-cube">
				  <div class="sk-cube1 sk-cube"></div>
				  <div class="sk-cube2 sk-cube"></div>
				  <div class="sk-cube4 sk-cube"></div>
				  <div class="sk-cube3 sk-cube"></div>
				</div>
			</div>
		</div>

		<div ng-show="processed" class="ng-hide">
            <div class="card-panel blue-grey darken-3">
            <h5 class="center-align"><span class="blue-text">Avg. polarity of {{total_polarity | number:2}}</span></h5>
            <h5 class="center-align"><span class="grey-text">{{total_posts}} posts in total</span></h5>
            <br>
			<canvas id="line" class="chart chart-line" chart-data="data"
			chart-labels="labels" chart-series="series" chart-options="options"
			chart-dataset-override="datasetOverride" chart-click="onClick"
			chart-colors="colors"</canvas>
			</div>
		</div>

	</div>
</div>
